<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>GSoC Weekly Report</title>

    <!--Prism.js CSS for Syntax Highlighting-->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/themes/prism-tomorrow.min.css"
      rel="stylesheet"
    />

    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/plugins/autolinker/prism-autolinker.min.js"
      rel="stylesheet"
    />
    <!-- Diff2Html CSS for Git Diff Styling -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/diff2html/dist/diff2html.min.css"
    />

    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- Header Section -->
    <header>
      <h1>GSoC Weekly Report</h1>
      <p>Week 6 | Swaminath Shiju | LPython</p>
    </header>

    <!-- Main Content Section -->
    <main>
      <div class="report-section">
        <h3>Weekly Agenda</h3>
        <p>
          This week was focused on Union type features. First was to implement
          the access syntax for Union types and to do a refactor of the ASR
          structure of Union types.
        </p>
        <p>
          The access was quick to implement. However, the ASR refactor
          encountered a major blocker: it depends on the StructType refactor PR.
          As of the time of this report, the Union type PR remains in draft
          status.
        </p>
      </div>
      <!-- Achievements Section -->
      <div class="report-section">
        <h3>Achievements</h3>
        <ul>
          <li>Implemented Union type access</li>
          <li>Union ASR type refactor</li>
        </ul>
      </div>

      <!-- Code Section -->
      <div class="report-section">
        <h2>Code Samples</h2>

        <pre><code class="language-fortran">
program lp_test
    type:: test_type
        integer :: x
        real    :: y
    end type

    type(test_type)  :: test_union

    ! Memory value of pi
    test_union%x = 1078530011 

    ! Doesn't currently support direct operations
    x = test_union%y
    if ( abs(x - 3.141593) > eps ) error stop

end program

            </code></pre>
      </div>
      <!-- PR Link Section -->
      <div class="report-section">
        <h2>Pull Requests</h2>
        <ul>
          <li>
            <a
              href="https://github.com/lfortran/lfortran/pull/7935"
              class="pr-link"
              target="_blank"
            >
              #7935 Union access implemented
            </a>
          </li>
          <li>
            <a
              href="https://github.com/lfortran/lfortran/pull/7966"
              class="pr-link"
              target="_blank"
            >
              #7966 Union ASR Refactor
            </a>
          </li>
        </ul>
      </div>

      <div class="report-section">
        <h3>Goals for next week</h3>
        <p>
          The main goal for next week is get accessing Union elements so we
          robustly test if the memory allocation is proper and supporting
          pythonic types inside union.
        </p>
        <p>
          Other goals include things like fixing failing tests in LPython after
          sync and trying to completely remove the reliance on typecodes.
        </p>
      </div>
    </main>

    <!-- Footer Section -->
    <footer>
      <p>GSoC Student Report | Python Software Foundation</p>
    </footer>

    <!-- Prism.js Library for Syntax Highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/plugins/autolinker/prism-autolinker.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/components/prism-fortran.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/components/prism-powershell.min.js"></script>
    <!-- Diff2Html Library for Git Diffs -->
    <script src="https://cdn.jsdelivr.net/npm/diff2html/dist/diff2html.min.js"></script>

    <!-- Example JavaScript to Load Git Diff -->
    <script>
      // Highlight all code blocks (for Prism.js)
      Prism.highlightAll();

      // Function to highlight mentions
      function highlightMentions() {
        const textElements = document.querySelectorAll("p, h2, h3, li"); // Text elements to scan for mentions
        textElements.forEach((element) => {
          element.innerHTML = element.innerHTML.replace(
            /@([a-zA-Z0-9_-]+)/g,
            '<a href="https://github.com/$1" class="mention">@$1</a>',
          );
        });
      }

      // Call the function to highlight mentions after the content is loaded
      highlightMentions();
    </script>
  </body>
</html>
